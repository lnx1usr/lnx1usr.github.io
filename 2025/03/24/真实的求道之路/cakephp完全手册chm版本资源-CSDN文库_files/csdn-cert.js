"use strict";!function(){function t(t){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}window.csdn=window.csdn||{};var e=function(t){window.document.domain="csdn.net",this.defaultData={type:"edu",pathUrl:window.location.href,iframeUrl:"https://i.csdn.net/#/cert-iframe/Cert",iframeName:"csdn-cert-iframe"},this.options=Object.assign({},this.defaultData,t),this.renderCss(),this.init()};e.prototype.renderCss=function(){t("https://g.csdnimg.cn/common/csdn-cert/csdn-cert.css")},e.prototype.init=function(){this.render()},e.prototype.render=function(){var t=this;this.options.iframeUrl=this.options.iframeUrl+"?certType="+this.options.type,this.$tql=$('<div class="csdn-cert-window">\n      <div class="csdn-cert-back"></div>\n      <div class="csdn-cert-iframe">\n        <iframe  width="512" height="604" id="csdn-cert-iframe" name="'+this.options.iframeName+'" src="'+this.options.iframeUrl+'" frameborder="0" scrolling="no"></iframe>\n        <img class="csdn-cert-close" src = "https://g.csdnimg.cn/common/csdn-cert/images/cert-close.png" />\n      </div >\n    </div > '),$("body").append(this.$tql),this.$tql.find(".csdn-cert-close").on("click",function(){t.close()}),window.addEventListener("message",function(e){void 0,"finishCert"===e.data&&(t.close(),window.location.href=t.options.pathUrl)})},e.prototype.close=function(){this.$tql.remove()},window.csdn.certBox={self:void 0,show:function(t){this.self=new e(t)},close:function(){return this.self.close()}}}();